<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate water indices including both NDWI variants — calculate_water_index • geospatialsuite</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate water indices including both NDWI variants — calculate_water_index"><meta name="description" content="Calculate various water indices including NDWI (McFeeters 1996),
MNDWI (Xu 2006), and NDMI (Gao 1996) for water body detection and moisture content.
Updated formulas based on latest research and satellite missions (2024)."><meta property="og:description" content="Calculate various water indices including NDWI (McFeeters 1996),
MNDWI (Xu 2006), and NDMI (Gao 1996) for water body detection and moisture content.
Updated formulas based on latest research and satellite missions (2024)."><meta property="og:image" content="https://cwru-sdle.github.io/geospatialsuite/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">geospatialsuite</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/vegetation-indices.html">Vegetation Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/agricultural-analysis.html">Agricultural Applications</a></li>
    <li><a class="dropdown-item" href="../articles/analyze-crop-vegetation.html">Analyzing Crop Vegetation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/spatial-analysis.html">Spatial Operations</a></li>
    <li><a class="dropdown-item" href="../articles/spatial-integration.html">Spatial Integration</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/water-quality.html">Water Quality Analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/workflows-case-studies.html">Complete Workflows</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cwru-sdle/geospatialsuite" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../paper.html">JOSS Paper</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate water indices including both NDWI variants</h1>
      <small class="dont-index">Source: <a href="https://github.com/cwru-sdle/geospatialsuite/blob/main/R/03-water-indices.R" class="external-link"><code>R/03-water-indices.R</code></a></small>
      <div class="d-none name"><code>calculate_water_index.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate various water indices including NDWI (McFeeters 1996),
MNDWI (Xu 2006), and NDMI (Gao 1996) for water body detection and moisture content.
Updated formulas based on latest research and satellite missions (2024).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calculate_water_index</span><span class="op">(</span></span>
<span>  <span class="va">green</span>,</span>
<span>  <span class="va">nir</span>,</span>
<span>  swir1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  index_type <span class="op">=</span> <span class="st">"NDWI"</span>,</span>
<span>  clamp_range <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mask_invalid <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-green">green<a class="anchor" aria-label="anchor" href="#arg-green"></a></dt>
<dd><p>Green band SpatRaster or file path</p></dd>


<dt id="arg-nir">nir<a class="anchor" aria-label="anchor" href="#arg-nir"></a></dt>
<dd><p>NIR band SpatRaster or file path</p></dd>


<dt id="arg-swir-">swir1<a class="anchor" aria-label="anchor" href="#arg-swir-"></a></dt>
<dd><p>SWIR1 band SpatRaster or file path (for MNDWI, NDMI)</p></dd>


<dt id="arg-index-type">index_type<a class="anchor" aria-label="anchor" href="#arg-index-type"></a></dt>
<dd><p>Index type: "NDWI", "MNDWI", "NDMI", "MSI", "NDII", "WI", "SRWI", "LSWI"</p></dd>


<dt id="arg-clamp-range">clamp_range<a class="anchor" aria-label="anchor" href="#arg-clamp-range"></a></dt>
<dd><p>Optional range to clamp output values</p></dd>


<dt id="arg-mask-invalid">mask_invalid<a class="anchor" aria-label="anchor" href="#arg-mask-invalid"></a></dt>
<dd><p>Mask invalid/extreme values</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Print progress messages</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>SpatRaster of water index</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Available water indices with their specific applications:</p><div class="section">
<h3 id="primary-water-detection-indices-">Primary Water Detection Indices:<a class="anchor" aria-label="anchor" href="#primary-water-detection-indices-"></a></h3>


<ul><li><p><strong>NDWI</strong> (McFeeters 1996): (Green - NIR) / (Green + NIR)
- <strong>Use</strong>: Open water body detection, flood mapping
- <strong>Range</strong>: Values from -1 to 1, water bodies typically &gt; 0.3
- <strong>Pros</strong>: Simple, effective for clear water
- <strong>Cons</strong>: Sensitive to built-up areas, can overestimate water</p></li>
<li><p><strong>MNDWI</strong> (Xu 2006): (Green - SWIR1) / (Green + SWIR1)
- <strong>Use</strong>: Enhanced water detection, urban water bodies
- <strong>Range</strong>: Values from -1 to 1, water bodies typically &gt; 0.5
- <strong>Pros</strong>: Better separation of water from built-up areas
- <strong>Cons</strong>: Requires SWIR band, less effective with turbid water</p></li>
</ul></div>

<div class="section">
<h3 id="vegetation-moisture-indices-">Vegetation Moisture Indices:<a class="anchor" aria-label="anchor" href="#vegetation-moisture-indices-"></a></h3>


<ul><li><p><strong>NDMI</strong> (Gao 1996): (NIR - SWIR1) / (NIR + SWIR1)
- <strong>Use</strong>: Vegetation water content, drought monitoring
- <strong>Range</strong>: Values from -1 to 1, higher values = more water content
- <strong>Application</strong>: Agriculture, forest fire risk assessment</p></li>
<li><p><strong>MSI</strong>: SWIR1 / NIR - Moisture Stress Index
- <strong>Use</strong>: Plant water stress detection
- <strong>Range</strong>: <code>[0, 5+]</code>, lower values = higher moisture</p></li>
<li><p><strong>NDII</strong>: (NIR - SWIR1) / (NIR + SWIR1) - Same as NDMI
- <strong>Use</strong>: Alternative name for NDMI, vegetation moisture</p></li>
</ul></div>

<div class="section">
<h3 id="specialized-water-indices-">Specialized Water Indices:<a class="anchor" aria-label="anchor" href="#specialized-water-indices-"></a></h3>


<ul><li><p><strong>WI</strong>: NIR / SWIR1 - Water Index (simple ratio)</p></li>
<li><p><strong>SRWI</strong>: NIR / SWIR1 - Simple Ratio Water Index</p></li>
<li><p><strong>LSWI</strong>: (NIR - SWIR1) / (NIR + SWIR1) - Land Surface Water Index</p></li>
</ul></div>

<div class="section">
<h3 id="band-requirements-by-satellite-">Band Requirements by Satellite:<a class="anchor" aria-label="anchor" href="#band-requirements-by-satellite-"></a></h3>

<ul><li><p><strong>Landsat 8/9</strong>: Green=Band 3, NIR=Band 5, SWIR1=Band 6</p></li>
<li><p><strong>Sentinel-2</strong>: Green=Band 3, NIR=Band 8, SWIR1=Band 11</p></li>
<li><p><strong>MODIS</strong>: Green=Band 4, NIR=Band 2, SWIR1=Band 6</p></li>
</ul></div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># These examples require external data files not included with the package</span></span></span>
<span class="r-in"><span><span class="co"># Original NDWI for water body detection</span></span></span>
<span class="r-in"><span><span class="va">ndwi</span> <span class="op">&lt;-</span> <span class="fu">calculate_water_index</span><span class="op">(</span><span class="va">green_band</span>, <span class="va">nir_band</span>, index_type <span class="op">=</span> <span class="st">"NDWI"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Modified NDWI for enhanced water detection (requires SWIR1)</span></span></span>
<span class="r-in"><span><span class="va">mndwi</span> <span class="op">&lt;-</span> <span class="fu">calculate_water_index</span><span class="op">(</span><span class="va">green_band</span>, <span class="va">nir_band</span>, <span class="va">swir1_band</span>, index_type <span class="op">=</span> <span class="st">"MNDWI"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># NDMI for vegetation moisture monitoring</span></span></span>
<span class="r-in"><span><span class="va">ndmi</span> <span class="op">&lt;-</span> <span class="fu">calculate_water_index</span><span class="op">(</span><span class="va">green_band</span>, <span class="va">nir_band</span>, <span class="va">swir1_band</span>, index_type <span class="op">=</span> <span class="st">"NDMI"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With quality control</span></span></span>
<span class="r-in"><span><span class="va">water_index</span> <span class="op">&lt;-</span> <span class="fu">calculate_water_index</span><span class="op">(</span></span></span>
<span class="r-in"><span>  green <span class="op">=</span> <span class="st">"green.tif"</span>,</span></span>
<span class="r-in"><span>  nir <span class="op">=</span> <span class="st">"nir.tif"</span>,</span></span>
<span class="r-in"><span>  swir1 <span class="op">=</span> <span class="st">"swir1.tif"</span>,</span></span>
<span class="r-in"><span>  index_type <span class="op">=</span> <span class="st">"MNDWI"</span>,</span></span>
<span class="r-in"><span>  clamp_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  mask_invalid <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>geospatialsuite is developed by the <a href="https://engineering.case.edu/centers/sdle" class="external-link">SDLE Research Center</a> at Case Western Reserve University, supported by NSF CASFER (Award 2133576).</p>
</div>

<div class="pkgdown-footer-right">
  <p>Built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a></p>
</div>

    </footer></div>





  </body></html>

